---
title: 相同元素不同位置分配
description: 隔板法
date: 2023-10-30
weight: 10000


---
瑞士军刀
{{< alert >}}
【隔板法】将$n$个完全相同的元素分给$m$个不同位置（$n\ge m$），每个位置至少$1$个元素，则不同的分配方案数为：$\operatorname{C} _{n-1}^{m-1}$
{{<note>}}
- 做事：$n$个相同元素，$m$个不同位置；
- 规则：每个位置至少分配$1$个元素；
{{</note>}}

{{< /alert >}}

&#128995;&#128995;&#128995;&#128995;
---
&#128311;【】现有$5$个完全相同的球，按照如下条件，分别求出不同的方案种数

（1）分成$3$组，且每组至少$1$个球；

（2）全部分给甲、乙、丙$3$人，且每人至少$1$个球；

（3）全部分给甲、乙、丙$3$人；

{{<alert color="primary">}}
【**思路**】
- 做事：元素是$5$个相同的球；位置是$2$位不同的小朋友；
- 规则：只要任何一个位置上的元素不同，则视为不同的分配方案；
{{</alert>}}
【**解析**】

（1）将$5$个相同的球可按照$1:1:3$和$1:2:2$分成两组，故共有$2$种不同方案

（2）设甲、乙、丙三人分别分配$x$、$y$、$z$个球，可得：$x+y+z=5$（$x,y,z\in {{\operatorname{N}} _{+}}$）

将$5$个完全相同的球排成一排：&#128995;&#128995;&#128995;&#128995;&#128995;

$5$个球之间共有$4$个挡板可选择插入：&#128995;|&#128995;|&#128995;|&#128995;|&#128995;

从$4$个挡板中任选$2$个挡板进行隔开，从而分成三组，不妨依次将第一组、第二组、第三组分别分给甲、乙、丙三人，记为$\left( x,y,z \right)$，可得：
1. 选择$1$、$2$挡板，可得：&#128995;|&#128995;|&#128995;&#128995;&#128995;$\Rightarrow $$\left( 1,1,3 \right)$；
2. 选择$1$、$3$挡板，可得：&#128995;|&#128995;&#128995;|&#128995;&#128995;$\Rightarrow $$\left( 1,2,2 \right)$；
3. 选择$1$、$4$挡板，可得：&#128995;|&#128995;&#128995;&#128995;|&#128995;$\Rightarrow $$\left( 1,3,1 \right)$；
4. 选择$2$、$3$挡板，可得：&#128995;&#128995;|&#128995;|&#128995;&#128995;$\Rightarrow $$\left( 2,1,2 \right)$；
5. 选择$2$、$4$挡板，可得：&#128995;&#128995;|&#128995;&#128995;|&#128995;$\Rightarrow $$\left( 2,2,1 \right)$；
6. 选择$3$、$4$挡板，可得：&#128995;&#128995;&#128995;|&#128995;|&#128995;$\Rightarrow $$\left( 3,1,1 \right)$；

综上，共有：$\operatorname{C} _{4}^{2}=6$种不同的分配方案

（3）设甲、乙、丙三人分别分配$a$、$b$、$c$个球，可得：$a+b+c=5$（$a,b,c\in \operatorname{N}$）

令$x=a+1$，$y=b+1$，$z=c+1$个球，可得：$x+y+z=8$（$x,y,z\in {{\operatorname{N}} _{+}}$）

故共有：$\operatorname{C} _{8}^{2}=28$种不同的分配方案





---
&#128311;【】已知一个不定方程为：${{x} _ {1}}+{{x} _ {2}}+{{x} _ {3}}+{{x} _ {4}}=13$

（1）该方程的正整数解有多少个？

（2）该方程的非负整数解有多少个？
{{<alert color="primary">}}
【**思路**】
- 做事：元素是$13$个相同的$1$，位置是$\\{x_1|x_2|x_3|x_4\\}$
- 规则：将$13$个相同的$1$分配给$4$个不同位置
{{</alert>}}
【**解析**】

（1）问题等价于：用$3$个挡板将$13$个完全相同的球分成$4$组，并将$4$组依次分给${{x} _ {1}}$、${{x} _ {2}}$、${{x} _ {3}}$、${{x} _ {4}}$，可得：$\operatorname{C} _ {12}^{3}=220$

故该方程的正整数解有：$220$个

（2）设$x={{x} _ {1}}+1$，$y={{x} _ {2}}+1$，$z={{x} _ {3}}+1$，$w={{x} _ {4}}+1$，可得：$x+y+z+w=17$

问题等价于：用$3$个挡板将$17$个完全相同的球分成$4$组，并将$4$组依次分给$x$、$y$、$z$、$w$，可得：$\operatorname{C} _ {16}^{3}=560$

该方程的非负整数解有：$560$个

---
&#128311;【】一般地，若${{x} _ {1}}+{{x} _ {2}}+{{x} _ {3}}+\cdots +{{x} _ {m}}=n$，（$n\ge m,n\in {{\operatorname{N}} _ {+}},m\in {{\operatorname{N}} _ {+}}$）

（1）该方程的正整数解有多少个？

（2）该方程的非负整数解有多少个？
{{<alert color="primary">}}
【**思路**】
- 做事：$n$个相同元素$1$，$m$个不同位置；
- 规则：每个位置至少分配$1$个元素；
{{</alert>}}

【**解析**】（1）问题等价于：用$m-1$个挡板将$n$个完全相同的球分成$m$组，并将$m$组依次分给${{x} _ {1}}$、${{x} _ {2}}$、$\cdot \cdot \cdot $、${{x} _ {m}}$，可得：$\operatorname{C} _ {n-1}^{m-1}$

故该方程的正整数解有：$\operatorname{C} _ {n-1}^{m-1}$个

（2）设${{y} _ {1}}={{x} _ {1}}+1$，${{y} _ {2}}={{x} _ {2}}+1$，$\cdot \cdot \cdot $，${{y} _ {m}}={{x} _ {m}}+1$，可得：${{y} _ {1}}+{{y} _ {2}}+\cdots +{{y} _ {m}}=n+m$

问题等价于：用$m-1$个挡板将$n+m$个完全相同的球分成$m$组，并将$m$组依次分给${{y} _ {1}}$、${{y} _ {2}}$、$\cdot \cdot \cdot $、${{y} _ {m}}$，可得：$\operatorname{C} _ {n+m-1}^{m-1}$

该方程的非负整数解有：$\operatorname{C} _{n+m-1}^{m-1}$

方法二：空盒个数作为分类标准：
- $\textcircled{1}$从$m$个盒子中任选$1$个来装$n$个相同的球，可得：$\operatorname{C} _ {m}^{1}\operatorname{C} _ {n}^{n}$；
- $\textcircled{2}$从$m$个盒子中任选$2$个来装$n$个相同的球，可得：$\operatorname{C} _ {m}^{2}\operatorname{C} _ {n-1}^{1}$；
- $\textcircled{3}$从$m$个盒子中任选$3$个来装$n$个相同的球，可得：$\operatorname{C} _ {m}^{3}\operatorname{C} _ {n-1}^{2}$；
- $ \cdots$
- $\textcircled{m}$从$m$个盒子中任选$m$个来装$n$个相同的球，可得：$\operatorname{C} _ {m}^{m}\operatorname{C} _ {n-1}^{m-1}$；

综上，共有：$\operatorname{C} _ {m}^{1}\operatorname{C} _ {n}^{n}+\operatorname{C} _ {m}^{2}\operatorname{C} _ {n-1}^{1}+\operatorname{C} _ {m}^{3}\operatorname{C} _ {n-1}^{2}+\cdot \cdot \cdot +\operatorname{C} _ {m}^{m}\operatorname{C} _ {n-1}^{m-1}$

$=\operatorname{C} _ {m}^{1}\operatorname{C} _ {n}^{0}+\operatorname{C} _ {m}^{2}\operatorname{C} _ {n-1}^{1}+\operatorname{C} _ {m}^{3}\operatorname{C} _ {n-1}^{2}+\cdot \cdot \cdot +\operatorname{C} _ {m}^{m}\operatorname{C} _ {n-1}^{m-1}$（利用$\operatorname{C} _ {n}^{m}=\operatorname{C} _ {n}^{n-m}$性质）

$=\operatorname{C} _ {m}^{1}\operatorname{C} _ {n-1}^{0}+\operatorname{C} _ {m}^{2}\operatorname{C} _ {n-1}^{1}+\operatorname{C} _ {m}^{3}\operatorname{C} _ {n-1}^{2}+\cdot \cdot \cdot +\operatorname{C} _ {m}^{m}\operatorname{C} _ {n-1}^{m-1}$

$=\operatorname{C} _ {m}^{m-1}\operatorname{C} _ {n-1}^{0}+\operatorname{C} _ {m}^{m-2}\operatorname{C} _ {n-1}^{1}+\operatorname{C} _ {m}^{m-3}\operatorname{C} _ {n-1}^{2}+\cdot \cdot \cdot +\operatorname{C} _ {m}^{0}\operatorname{C} _ {n-1}^{m-1}$

构造恒等式：${{\left( 1+x \right)}^{n-1}}{{\left( 1+x \right)}^{m}}={{\left( 1+x \right)}^{m+n-1}}$

根据恒等式两边二项式展开式中含有${{x}^{m-1}}$项的二项式系数必相等，可得：
$\operatorname{C} _ {m}^{m-1}\operatorname{C} _ {n-1}^{0}+\operatorname{C} _ {m}^{m-2}\operatorname{C} _ {n-1}^{1}+\operatorname{C} _ {m}^{m-3}\operatorname{C} _ {n-1}^{2}+\cdot \cdot \cdot +\operatorname{C} _ {m}^{0}\operatorname{C} _ {n-1}^{m-1}=\operatorname{C} _ {n+m-1}^{m-1}$

故共有：$\operatorname{C} _ {m}^{1}\operatorname{C} _ {n}^{n}+\operatorname{C} _ {m}^{2}\operatorname{C} _ {n-1}^{1}+\operatorname{C} _ {m}^{3}\operatorname{C} _ {n-1}^{2}+\cdot \cdot \cdot +\operatorname{C} _ {m}^{m}\operatorname{C} _ {n-1}^{m-1}=\operatorname{C} _ {n+m-1}^{m-1}$





---
&#128311;【】把$20$个相同的球全部装入编号分别为$\textcircled{1}$$\textcircled{2}$$\textcircled{3}$$\textcircled{4}$的$4$个盒子里

（1）每盒至少$1$个球，共有多少种放法？

（2）盒子可空，共有多少种放法？（每个位置至少$0$个元素）

（3）每盒至少$4$个球，共有多少种放法？

（4）$\textcircled{1}$$\textcircled{2}$编号每盒至少$3$个球，$\textcircled{3}$$\textcircled{4}$编号每盒至少$4$个球，共有多少种放法？

（5）每个盒子内的球数不小于盒子的编号数，共有多少种放法？

{{<alert color="primary">}}
【**思路**】
- 元素是$20$个相同的球；位置是$4$个不同盒子；
- 规则：每个位置都有至少${{k} _{i}}$（$i=1,2,3,4$）个元素的限制，均需转化为每个位置至少分配$1$个元素；
{{</alert>}}

【**解析**】

（1）设$\textcircled{1}$$\textcircled{2}$$\textcircled{3}$$\textcircled{4}$分别分配$x$、$y$、$z$、$w$个球，可得：$x+y+z+w=20$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

问题等价于：用$3$个挡板将$20$个完全相同的球分成$4$组，并将$4$组依次分给$x$、$y$、$z$、$w$，可得：$\operatorname{C} _{19}^{3}=969$

故共有：$\operatorname{C} _{19}^{3}=969$种方法；

（2）方法一：设$4$个盒子分别装有$a,b,c,d$个球，可得：$a+b+c+d=20$（$a,b,c,d\in \operatorname{N}$）

设$x=a+1$，$y=b+1$，$z=c+1$，$w=d+1$

可得：$x+y+z+w=24$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

问题转化为：用$3$个挡板将$24$个完全相同的球分成$4$组，并将$4$组依次分给$x$、$y$、$z$、$w$，可得：$\operatorname{C} _{23}^{3}=1771$

故共有：$\operatorname{C} _{23}^{3}=1771$种方法；

方法二：按照空盒个数作为分类标准：

\[A\]恰有$0$个空盒时，可得：$\operatorname{C} _{19}^{3}=969$种方法；

\[B\]恰有$1$个空盒时，可得：$\operatorname{C} _{4}^{3}\operatorname{C} _{19}^{2}=684$种方法；

\[C\]恰有$2$个空盒时，可得：$\operatorname{C} _{4}^{2}\operatorname{C} _{19}^{1}=114$种方法；

\[D\]恰有$3$个空盒时，可得：$\operatorname{C} _{4}^{1}\operatorname{C} _{20}^{20}=4$种方法；

综上，共有：$969+684+114+4=1771$种方法；

（3）设$4$个盒子分别装有$a,b,c,d$个球，可得：$a+b+c+d=20$

设$x=a-3$，$y=b-3$，$z=c-3$，$w=d-3$

可得：$x+y+z+w=8$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

问题转化为：将$8$个球分到$4$个不同盒子，每个盒子至少$1$个球

故共有：$\operatorname{C} _{7}^{3}=35$种方法；

（4）设$4$个盒子分别装有$a,b,c,d$个球，可得：$a+b+c+d=20$

设$x=a-2$，$y=b-2$，$z=c-3$，$w=d-3$

可得：$x+y+z+w=10$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

问题转化为：将$10$个球分到$4$个不同盒子，每个盒子至少$1$个球

故共有：$\operatorname{C} _{9}^{3}=84$种方法；

（5）设$4$个盒子分别装有$a,b,c,d$个球，可得：$a+b+c+d=20$

设$x=a$，$y=b-1$，$z=c-2$，$w=d-3$

可得：$x+y+z+w=14$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

问题转化为：将$14$个球分到$4$个不同盒子，每个盒子至少$1$个球

故共有：$\operatorname{C} _{14}^{3}=364$种方法；

---
&#128311;【】已知一个多项式：${{\left( a+b+c+d \right)}^{6}}$展开后合并同类项后项的个数是多少？

【解析】多项式展开为：${{\left( a+b+c+d \right)}^{6}}=\sum {{a}^{{{x} _{1}}}}{{b}^{{{x} _{2}}}}{{c}^{{{x} _{3}}}}{{d}^{{{x} _{4}}}}$

可得：${{x} _{1}}+{{x} _{2}}+{{x} _{3}}+{{x} _{4}}=6$（${{x} _{1}},{{x} _{2}},{{x} _{3}},{{x} _{4}}\in \operatorname{N}$）

设$x={{x} _{1}}+1$，$y={{x} _{2}}+1$，$z={{x} _{3}}+1$，$w={{x} _{4}}+1$

可得：$x+y+z+w=10$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

问题转化为：将$10$个球分到$4$个不同盒子，每个盒子至少$1$个球

故共有：$\operatorname{C} _{9}^{3}=84$项；

---
&#128311;【】已知《全国富婆通讯录》、《如何成为土豪》、《如何让富婆爱上你》这三种书的价格均为每本$10$元，李老板准备买这三种书来激励一下员工，共花了$130$元，要求每种书至少$1$本，则所有可能的购买方案总数为：$\operatorname{C} _{12}^{2}=66$

&#128311;【】将$13$个三好学生名额分到$4$个班级，每个班级至少$1$个名额，共有$\operatorname{C} _{12}^{3}=220$种分法；

&#128311;【】将$13$个志愿者名额分配给$4$个学校，每校至少有$1$个名额，共有$\operatorname{C} _{12}^{3}=220$种分法；

&#128311;【】将$13$个表彰名额分配给了$4$个班级，每个班级至少有$1$个，共有$\operatorname{C} _{12}^{3}=220$种分法；

&#128311;【】将$13$个相同名额分给$4$个不同的班级，每班至少得到$1$个，共有$\operatorname{C} _{12}^{3}=220$种分法；

&#128311;【】将$13$个相同的口罩分给$4$名同学，每人至少$1$个，共有$\operatorname{C} _{12}^{3}=220$种分法；

&#128311;【】将$13$只相同的雪糕分给$4$名同学，每人至少$1$个，共有$\operatorname{C} _{12}^{3}=220$种分法；

&#128311;【】将$13$个相同的棒棒糖分给$4$名同学，每人至少$1$个，共有$\operatorname{C} _{12}^{3}=220$种分法；

&#128311;【】将$13$张相同的邮票贴到$4$个信封上，每个信封至少$1$张，共有$\operatorname{C} _{12}^{3}=220$种贴法；

---
&#128311;【】将$13$个相同的球放入编号为$1$、$2$、$3$、$4$的四个盒子，按照如下条件进行分配，有多少种不同的分法？

（1）盒子不可空（等价于每个盒子至少放$1$个球）；

（2）盒子可空；

（3）恰有$1$个空盒；

（4）恰有$2$个空盒；

（5）至少有$1$个空盒；

（6）至多$2$个空盒；

{{<alert color="primary">}}
【**思路**】
- 元素是$13$个相同的球；位置是$4$个不同盒子；
- 规则：每个位置都有至少${{k} _{i}}$（$i=1,2,3,4$）个元素的限制，均需转化为每个位置至少分配$1$个元素；
{{</alert>}}

【**解析**】

（1）问题等价于：用$3$个挡板将$13$个完全相同的球分成$4$组，并将$4$组依次分给$1$、$2$、$3$、$4$的四个盒子，可得：$\operatorname{C} _{12}^{3}=220$

故共有：$\operatorname{C} _{12}^{3}=220$种分法；

（2）方法一：隔板法
设四个盒子分别分配$a$、$b$、$c$、$d$个球，可得：$a+b+c+d=13$（$a,b,c\in \operatorname{N}$）

令$x=a+1$，$y=b+1$，$z=c+1$，$w=d+1$个球，可得：$x+y+z+w=17$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

故共有：$\operatorname{C} _{16}^{3}=560$种分法；

方法二：空盒个数作为分类标准：

1. 当没有空盒时，可得：$\operatorname{C} _{12}^{3}=220$种分法；
2. 恰有$1$个空盒时，从$4$个盒子中任选$3$个盒子装$13$个球，可得：$\operatorname{C} _{4}^{3}\operatorname{C} _{12}^{2}=264$种分法；
3. 恰有$2$个空盒时，从$4$个盒子中任选$2$个盒子装$13$个球，可得：$\operatorname{C} _{4}^{2}\operatorname{C} _{12}^{1}=72$种分法；
4. 恰有$3$个空盒时，从$4$个盒子中任选$1$个盒子装$13$个球，可得：$\operatorname{C} _{4}^{1}=4$种分法；

综上，共有：$220+264+72+4=560$种分法；

（3）恰有$1$个空盒：
- 第一步：从$4$个盒子中任选$3$个盒子装$13$个球，其余$1$个盒子作为空盒，可得：$\operatorname{C} _{4}^{3}=4$；
- 第二步：将$13$个相同的球全部给第一步选出来的$3$个盒子，且盒子不可空，可得：$\operatorname{C} _{12}^{2}=66$

综上，共有：$4\times 66=264$种分法；

（4）恰有$2$个空盒：
- 第一步：从$4$个盒子中任选$2$个盒子装$13$个球，其余$2$个盒子作为空盒，可得：$\operatorname{C} _{4}^{2}=6$；
- 第二步：将$13$个相同的球全部给第一步选出来的$2$个盒子，且盒子不可空，可得：$\operatorname{C} _{12}^{1}=12$

综上，共有：$6\times 12=72$种分法；

（5）至少有$1$个空盒的反面就是盒子不可空，由（1）（2）可得：$560-220=340$

故共有：$340$种分法；

（6）至多$2$个空盒的反面就是$3$个空盒，可得：$560-4=556$

故共有：$556$种分法；


---
&#128311;【】将$6$个相同的球全部放到$9$个不同盒子中，有多少种不同的分配方案？

（1）每个盒子至多放$1$个球；

（2）盒子可空；

（3）恰有$6$个空盒；

（4）至多$5$个空盒；

（5）至少$6$个空盒；

{{<alert color="primary">}}
【**思路**】
- 做事：元素是$6$个相同的球。位置是$9$个不同盒子
- 规则：空盒个数
{{</alert>}}

【**解析**】

（1）只需从$9$个不同盒子任选$6$个放入$1$个球，可得：$\operatorname{C} _{9}^{6}=84$

（2）设$9$个盒子分别分配${{x} _{1}},{{x} _{2}},{{x} _{3}},{{x} _{4}},{{x} _{5}},{{x} _{6}},{{x} _{7}},{{x} _{8}},{{x} _{9}}$个球

可得：${{x} _{1}}+{{x} _{2}}+{{x} _{3}}+{{x} _{4}}+{{x} _{5}}+{{x} _{6}}+{{x} _{7}}+{{x} _{8}}+{{x} _{9}}=6$（${{x} _{1}},{{x} _{2}},{{x} _{3}},{{x} _{4}},{{x} _{5}},{{x} _{6}},{{x} _{7}},{{x} _{8}},{{x} _{9}}\in \operatorname{N}$）

令${{y} _{1}}={{x} _{1}}+1$，${{y} _{2}}={{x} _{2}}+1$，${{y} _{3}}={{x} _{3}}+1$，${{y} _{4}}={{x} _{4}}+1$，${{y} _{5}}={{x} _{5}}+1$，${{y} _{6}}={{x} _{6}}+1$，${{y} _{7}}={{x} _{7}}+1$，${{y} _{8}}={{x} _{8}}+1$，${{y} _{9}}={{x} _{9}}+1$

可得：${{y} _{1}}+{{y} _{2}}+{{y} _{3}}+{{y} _{4}}+{{y} _{5}}+{{y} _{6}}+{{y} _{7}}+{{y} _{8}}+{{y} _{9}}=15$（${{y} _{1}},{{y} _{2}},{{y} _{3}},{{y} _{4}},{{y} _{5}},{{y} _{6}},{{y} _{7}},{{y} _{8}},{{y} _{9}}\in {{\operatorname{N}} _{+}}$）

故共有：$\operatorname{C} _{14}^{8}=3003$种分法；

（3）恰有$6$个空盒：

- 第一步：从$9$个不同盒子中任选$3$个装$6$个球，其余盒子为空盒，可得：$\operatorname{C} _{9}^{3}$
- 第二步：将$6$个相同的球给$3$个不同盒子，且盒子不空，可得：$\operatorname{C} _{5}^{2}$

综上，共有：$\operatorname{C} _{9}^{3}\operatorname{C} _{5}^{2}=840$种分法；

（4）将$6$个相同的球全部放到$9$个不同盒子中，因此至少会出现$3$个空盒：

1. 当恰有$3$个空盒时，只需从$9$个不同盒子任选$6$个，且每盒放$1$个球，可得：$\operatorname{C} _{9}^{6}=84$；
2. 当恰有$4$个空盒时，只需从$9$个不同盒子任选$5$个，再将$6$个球给放$5$个盒子，且盒子不空，可得：$\operatorname{C} _{9}^{5}\operatorname{C} _{5}^{4}=630$；
3. 当恰有$5$个空盒时，只需从$9$个不同盒子任选$4$个，再将$6$个球给放$4$个盒子，且盒子不空，可得：$\operatorname{C} _{9}^{4}\operatorname{C} _{5}^{3}=1260$；

综上，共有：$84+630+1260=1974$种分法；

（5）至少$4$个空盒：

由（2）（4）可知，共有：$3003-1974=1029$种分法；





---
&#128311;【】5个球放入3个盒子,在下列不同条件下，各有多少种投放方法？

小球不同，盒子不同，盒子不空

小球不同，盒子不同，盒子可空（3的5次方）

小球不同，盒子相同，盒子不空25

小球不同，盒子相同，盒子可空41

小球相同，盒子不同，盒子不空6

小球相同，盒子不同，盒子可空21



三明女生，史珍香，曾桃燕，胡丽晶


---
&#128311;【】将$13$个相同的球放入编号为$1$、$2$、$3$、$4$的四个盒子，按照如下条件进行分配，有多少种不同的分配方案？

（1）每个盒子至少分配$2$个球；

（2）$1$号盒子至少分配$5$个球，其余盒子可空；

（3）$1$号盒子至少分配$2$个球，$2$号盒子至少分配$4$个球，其余盒子可空；

（4）$1$号盒子中球的个数不少于其他盒子，盒子不可空；

（5）盒子不可空，每个盒子中球的个数各不相等；

【**解析**】

（1）设四个盒子分别分配$a$、$b$、$c$、$d$个球，可得：$a+b+c+d=13$（$a,b,c\in \operatorname{N}$）

令$x=a-1$，$y=b-1$，$z=c-1$，$w=d-1$个球，可得：$x+y+z+w=9$（$x,y,z,w\in {{\operatorname{N}} _{+}}$）

故共有：$\operatorname{C} _{8}^{3}=56$种分法；

（2）$1$号盒子至少分配$5$个球，其余盒子可空：

- 第一步：先给$1$号盒子分配$5$个球，可得：$1$种分法；
- 第二步：再将剩下的$8$个球分给$4$个盒子，且盒子可空，可得：$\operatorname{C} _{11}^{3}=165$种分法；

综上，共有：$165$种分法；

（3）$1$号盒子至少分配$2$个球，$2$号盒子至少分配$4$个球，其余盒子可空：

- 第一步：先给$1$号盒子分配$2$个球，给$2$号盒子分配$4$个球，可得：$1$种分法；
- 第二步：再将剩下的$7$个球分给$4$个盒子，且盒子可空，可得：$\operatorname{C} _{10}^{3}=120$种分法；

综上，共有：$120$种分法；

（4）$1$号盒子中球的个数为分类标准：未完成：
1. 当$1$号盒子中球的个数为$4$时，其余盒子中球的个数为$3$，可得：$=$；
2. 当$1$号盒子中球的个数为$5$时，其余盒子中球的个数为$3$，可得：$1$；
3. 当$1$号盒子有$6$个球时，只需将剩下$7$个球给其余$3$个盒子，且盒子不空，可得：$\operatorname{C} _{6}^{2}$；
4. 当$1$号盒子有$7$个球时，只需将剩下$6$个球给其余$3$个盒子，且盒子不空，可得：$\operatorname{C} _{5}^{2}$；
5. 当$1$号盒子有$8$个球时，只需将剩下$5$个球给其余$3$个盒子，且盒子不空，可得：$\operatorname{C} _{4}^{2}$；
6. 当$1$号盒子有$9$个球时，只需将剩下$4$个球给其余$3$个盒子，且盒子不空，可得：$\operatorname{C} _{3}^{2}$；
7. 当$1$号盒子有$10$个球时，只需将剩下$3$个球给其余$3$个盒子，且盒子不空，可得：$\operatorname{C} _{2}^{2}$；

综上，共有：$\operatorname{C} _{6}^{2}+\operatorname{C} _{5}^{2}+\operatorname{C} _{4}^{2}+\operatorname{C} _{3}^{2}+\operatorname{C} _{2}^{2}=$种分法；

（5）盒子不可空，每个盒子中球的个数各不相等：

将$13$个相同的球分成四组，符合要求的比例有：$1:2:3:7$，$1:2:4:6$，$1:3:4:5$

然后将四组球分给四个盒子，可得：$3\operatorname{A} _{4}^{4}=72$种分法；

综上，共有：$72$种分法；




## 分球入盒

---
&#128311;将$10$个无区别的小球放入$3$个不同的盒子，

（1）允许出现空盒，有多少种不同的放法？

（2）不允许出现空盒，有多少种不同的放法？

{{<alert color="primary">}}
【**思路**】
- 做事：$10$个无区别的小球。位置是$3$个不同盒子
- 规则：是否允许出现空盒

{{</alert>}}

【**解析**】

此问题相当于把$10$个相同的小球和两个相同的竖线隔板|在一排$12$个位置上，从左往右看：&#128995;&#128995;| &#128995;&#128995;&#128995;| &#128995;&#128995;&#128995;&#128995;&#128995;
- 第一块隔板左边有$x$个球，表示在第一个盒子里放$x$个球
- 第一块与第二块板之间有$y$个球，表示在第二个盒子放$y$个球
- 第二块隔板右边有$z$个球，表示在第三个盒子里放$z$个球

且满足：$x + y + z = 12$（$x \ge 0,y \ge 0,z \ge 0$）

（1）允许出现空盒，等价于：$x + y + z = 12$（$x \ge 0,y \ge 0,z \ge 0$）方程的非负整数解

球的放法与该方程的非负整数解是一一对应的

&#128995;&#128995; | &#128995;&#128995;&#128995; |&#128995;&#128995;&#128995;&#128995;&#128995; （该排列表示：$x=2,y=3,z=5$）

&#128995;&#128995; |  | &#128995;&#128995;&#128995;&#128995;&#128995;&#128995;&#128995;&#128995; （该排列表示：$x=2,y=0,z=8$）

| &#128995;&#128995;&#128995;&#128995;&#128995;&#128995;&#128995;&#128995;&#128995;&#128995; | （该排列表示：$x=0,y=10,z=0$）

同样地，例如：若$x=3,y=1,z=6$，则表示第一个盒子里放$3$个球，第二个盒子放$1$个球，第三个盒子里放$6$个球，即：&#128995;&#128995;&#128995; | &#128995; |&#128995;&#128995;&#128995;&#128995;&#128995;&#128995;


相当于将$10$个无区别的小球和$2$块相同的隔板全排列，可得：$\cfrac{\operatorname{A} _{12}^{12}}{\operatorname{A} _{10}^{10} \operatorname{A} _{2}^{2}} = 66$


（2）不允许出现空盒，等价于：$x + y + z = 12$（$x \ge 1,y \ge 1,z \ge 1$）方程的正整数解

球的放法与该方程的正整数解是一一对应的

&#128995;&#128995; | &#128995; | &#128995;&#128995;&#128995;&#128995;&#128995;&#128995;&#128995; （该排列表示：$x=2,y=1,z=7$）

&#128995; | &#128995;&#128995;&#128995;&#128995;&#128995;  | &#128995;&#128995;&#128995;&#128995; （该排列表示：$x=1,y=5,z=4$）

&#128995;&#128995;&#128995;| &#128995;&#128995;&#128995;&#128995;&#128995; | &#128995;&#128995;（该排列表示：$x=3,y=5,z=2$）

把$10$个相同的小球和两个相同的竖线隔板$|$在一排$12$个位置上，那么球与隔板放在一起时必须每块隔板的左右两边都放球(至少一个)

问题等价于在一排$10$个相同小球之间形成的$9$个空隙里任取$2$个空隙各放一块隔板，可得：$\operatorname{C} _{9}^{2} = 36$




---
&#128311;将$n$个无区别的小球放入$m$个不同的盒子，

（1）允许出现空盒，有多少种不同的放法？

（2）不允许出现空盒，有多少种不同的放法？

{{<alert color="primary">}}
【**思路**】
- 做事：$n$个无区别的小球。位置是$m$个不同盒子
- 规则：是否允许出现空盒

{{</alert>}}

【**解析**】该问题等价于：将$n$个无区别的小球和$m-1$个相同的隔板放在一排$n+m-1$个位置上排成一排，从左往右看

- 第一块隔板左边有$x_1$个小球，表示给第一个盒子放入小球个数为：$x_1$
- 第一块隔板右边有$x_2$个小球，表示给第二个盒子放入小球个数为：$x_2$
- 第二块隔板右边有$x_3$个小球，表示给第三个盒子放入小球个数为：$x_3$
- $\cdots$
- 第$m - 2$块隔板右边有$x_ {m - 1}$个小球，表示给第$m-1$个盒子放入小球个数为：$x_ {m - 1}$
- 第$m - 1$隔板右边有$x_m$个小球，表示给第$m$个盒子放入小球个数为：$x_m$

综上，可得：$x_1 + x_2 + \cdots + x_m = n$

（1）若允许出现空盒，则放法种数等于方程$x_1 + x_2 + \cdots + x_m = n$（$x_i \ge 0,i=1,2,\cdots,m$）的非负整数解的个数

故共有：$\cfrac{\operatorname{A} _{n+m-1}^{n+m-1}}{\operatorname{A} _{n}^{n} \operatorname{A} _{m-1}^{m-1}} = \operatorname{C} _{n+m-1}^{m-1}$

（2）若不允许出现空盒，则放法种数等于方程$x_1 + x_2 + \cdots + x_m = n$（$x_i \ge 1,i=1,2,\cdots,m$）的正整数解的个数

问题等价于在一排$n$个相同小球之间形成的$n-1$个空隙里任取$m-1$个空隙各放一块隔板，可得：$\operatorname{C} _{n-1}^{m-1}$

---
&#128311;把$9$名女生和$4$名男生排成一排，按照下列要求，分别有多少种不同排法？

（1）若每两名男生之间至少有一名女生

（2）若每两名男生之间至少有两名女生

（3）自左向右，每两名男生之间至少有$1、2、3$名女生

{{<alert color="primary">}}
【**思路**】
- 做事：$13$个不同的人。位置是$13$个不同位置
- 规则：每两名男生之间的女生数量限制

{{</alert>}}

【**解析**】

（1）先将$9$名女生看成$9$个相同小球，$4$名男生看成$4$个无区别的隔板，根据题意，隔板之间必须放球

设第一、二、三、四块隔板的左侧分别放$x_1，x_2 + 1，x_3 + 1，x_4 + 1$个小球，第四块隔板的右侧放$x_5$个小球

可得：$x_1 + (x_2 + 1) + (x_3 + 1) + (x_4 + 1) + x_5= 9$（$x_i \ge 0,i=1,2,3,4,5$）

化简可得：$x_1 + x_2+ x_3 + x_4 + x_5= 6$（$x_i \ge 0,i=1,2,3,4,5$）

故这种放法共有：$\operatorname{C} _{10}^{4}$

但$9$名女生是不同的，$4$名男生也是不同的，故共有：$\operatorname{C} _{10}^{4} \operatorname{A} _{9}^{9} \operatorname{A} _{4}^{4}$

（2）先将$9$名女生看成$9$个相同小球，$4$名男生看成$4$个无区别的隔板，根据题意，隔板之间必须放球

设第一、二、三、四块隔板的左侧分别放$x_1，x_2 + 2，x_3 + 2，x_4 + 2$个小球，第四块隔板的右侧放$x_5$个小球

可得：$x_1 + (x_2 + 2) + (x_3 + 2) + (x_4 + 2) + x_5= 9$（$x_i \ge 0,i=1,2,3,4,5$）

化简可得：$x_1 + x_2+ x_3 + x_4 + x_5= 3$（$x_i \ge 0,i=1,2,3,4,5$）

故这种放法共有：$\operatorname{C} _{7}^{4}$

但$9$名女生是不同的，$4$名男生也是不同的，故共有：$\operatorname{C} _{7}^{4} \operatorname{A} _{9}^{9} \operatorname{A} _{4}^{4}$

（3）先将$9$名女生看成$9$个相同小球，$4$名男生看成$4$个无区别的隔板，根据题意，隔板之间必须放球

设第一、二、三、四块隔板的左侧分别放$x_1，x_2 + 1，x_3 + 2，x_4 + 3$个小球，第四块隔板的右侧放$x_5$个小球

可得：$x_1 + (x_2 + 1) + (x_3 + 2) + (x_4 + 3) + x_5= 9$（$x_i \ge 0,i=1,2,3,4,5$）

化简可得：$x_1 + x_2+ x_3 + x_4 + x_5= 3$（$x_i \ge 0,i=1,2,3,4,5$）

故这种放法共有：$\operatorname{C} _{7}^{4}$

但$9$名女生是不同的，$4$名男生也是不同的，故共有：$\operatorname{C} _{7}^{4} \operatorname{A} _{9}^{9} \operatorname{A} _{4}^{4}$


---
&#128311;将$A$类的$16$个不同的元素和$B$类的$4$个不同的元素排成一行

（1）每个$B$类元素之间至少有$1$个$A$类元素，有多少种不同的排法？

（2）每个$B$类元素之间至少有$2$个$A$类元素，有多少种不同的排法？

（3）每个$B$类元素之间至少有$k$个$A$类元素，有多少种不同的排法？

（4）自左向右两个$B$类元素之间分别至少有$2、3、4$个$A$类元素，有多少种不同的排法？

{{<alert color="primary">}}
【**思路**】
- 做事：$16+4=20$个不同的元素。位置是$20$个不同位置
- 规则：元素不相邻（先满足不相邻）

{{</alert>}}

【**解析**】

（1）每个$B$类元素之间至少有$1$个$A$类元素，即$B$类的$4$个不同的元素不相邻，按照如下步骤：

- 第一步：将$A$类的$16$个不同的元素当作$A$类的$16$个相同的小球，$B$类的$4$个不同的元素当作$B$类的$4$个相同隔板，先满足不相邻

隔板不能相邻，第一块隔板左边和第四块隔板右边可以不放球，也可以放球，但相邻两块隔板之间必须放球，所以先放球，再按上述要求放隔板

设第一、二、三、四块隔板别放$x_1、x_2、x_3、x_4、x_5$个球，可得：$x_1 + x_2 + x_3 + x_4 + x_5 = 16$（$x_1 \ge 0,x_2  \ge 1,x_3  \ge 1,x_4  \ge 1,x_5  \ge 0$）

&#128995;&#128995;|&#128995;&#128995;&#128995;&#128995;&#128995;|&#128995;&#128995;&#128995;|&#128995;&#128995;&#128995;&#128995;|&#128995;&#128995; （该排列表示：$x_1=2、x_2=5、x_3=3、x_4=4、x_5=2$）

令$y_1 = x_1 + 1、y_2 = x_2、y_3 = x_3、y_4 = x_4、y_5 = x_5 + 1$

可得：$y_1 + y_2 + y_3 + y_4 + y_5 = 18$（$y_1 \ge 1,y_2  \ge 1,y_3  \ge 1,y_4  \ge 1,y_5  \ge 1$）

可得：$\operatorname{C} _{17}^{4}$

- 第二步：实际上，$A$类的$9$个元素是不同的，故需要全排列，可得：$\operatorname{A} _{9}^{9}$

- 第三步：实际上，$B$类的$4$个元素也是不同的，故需要全排列，可得：$\operatorname{A} _{4}^{4}$

综上，可得：$\operatorname{C} _{17}^{4} \operatorname{A} _{9}^{9} \operatorname{A} _{4}^{4}$

（2）每个$B$类元素之间至少有$2$个$A$类元素，按照如下步骤：

- 第一步：将$A$类的$16$个不同的元素当作$A$类的$16$个相同的小球，$B$类的$4$个不同的元素当作$B$类的$4$个相同隔板，先满足不相邻

隔板不能相邻，第一块隔板左边和第四块隔板右边可以不放球，也可以放球，但相邻两块隔板之间必须放球，所以先放球，再按上述要求放隔板

设第一、二、三、四块隔板别放$x_1、x_2、x_3、x_4、x_5$个球，可得：$x_1 + x_2 + x_3 + x_4 + x_5 = 16$（$x_1 \ge 0,x_2  \ge 2,x_3  \ge 2,x_4  \ge 2,x_5  \ge 0$）

&#128995;|&#128995;&#128995;|&#128995;&#128995;&#128995;|&#128995;&#128995;|&#128995; （该排列表示：$x_1=1、x_2=2、x_3=3、x_4=2、x_5=1$）

令$y_1 = x_1 + 1、y_2 = x_2 - 1、y_3 = x_3 - 1、y_4 = x_4 - 1、y_5 = x_5 + 1$

可得：$y_1 + y_2 + y_3 + y_4 + y_5 = 15$（$y_1 \ge 1,y_2  \ge 1,y_3  \ge 1,y_4  \ge 1,y_5  \ge 1$）

可得：$\operatorname{C} _{14}^{4}$

- 第二步：实际上，$A$类的$9$个元素是不同的，故需要全排列，可得：$\operatorname{A} _{9}^{9}$

- 第三步：实际上，$B$类的$4$个元素也是不同的，故需要全排列，可得：$\operatorname{A} _{4}^{4}$

综上，可得：$\operatorname{C} _{14}^{4} \operatorname{A} _{9}^{9} \operatorname{A} _{4}^{4}$

（3）每个$B$类元素之间至少有$k$个$A$类元素，按照如下步骤：

- 第一步：将$A$类的$16$个不同的元素当作$A$类的$16$个相同的小球，$B$类的$4$个不同的元素当作$B$类的$4$个相同隔板，先满足不相邻

隔板不能相邻，第一块隔板左边和第四块隔板右边可以不放球，也可以放球，但相邻两块隔板之间必须放球，所以先放球，再按上述要求放隔板

设第一、二、三、四块隔板别放$x_1、x_2、x_3、x_4、x_5$个球，可得：$x_1 + x_2 + x_3 + x_4 + x_5 = 16$（$x_1 \ge 0,x_2  \ge k,x_3  \ge k,x_4  \ge k,x_5  \ge 0$）

&#128995;|&#128995;&#128995;|&#128995;&#128995;&#128995;|&#128995;&#128995;|&#128995; （该排列表示：$x_1=1、x_2=2、x_3=3、x_4=2、x_5=1$）

令$y_1 = x_1 + 1、y_2 = x_2 - k + 1、y_3 = x_3 - k + 1、y_4 = x_4 - k + 1、y_5 = x_5 + 1$

可得：$y_1 + y_2 + y_3 + y_4 + y_5 = 21-3k$（$y_1 \ge 1,y_2  \ge 1,y_3  \ge 1,y_4  \ge 1,y_5  \ge 1$）

可得：$\operatorname{C} _{20-3k}^{4}$

- 第二步：实际上，$A$类的$9$个元素是不同的，故需要全排列，可得：$\operatorname{A} _{9}^{9}$

- 第三步：实际上，$B$类的$4$个元素也是不同的，故需要全排列，可得：$\operatorname{A} _{4}^{4}$

综上，可得：$\operatorname{C} _{20-3k}^{4} \operatorname{A} _{9}^{9} \operatorname{A} _{4}^{4}$

（4）每个$B$类元素之间至少有$k$个$A$类元素，按照如下步骤：

- 第一步：将$A$类的$16$个不同的元素当作$A$类的$16$个相同的小球，$B$类的$4$个不同的元素当作$B$类的$4$个相同隔板，先满足不相邻

隔板不能相邻，第一块隔板左边和第四块隔板右边可以不放球，也可以放球，但相邻两块隔板之间必须放球，所以先放球，再按上述要求放隔板

设第一、二、三、四块隔板别放$x_1、x_2、x_3、x_4、x_5$个球，可得：$x_1 + x_2 + x_3 + x_4 + x_5 = 16$（$x_1 \ge 0,x_2  \ge 2,x_3  \ge 3,x_4  \ge 4,x_5  \ge 0$）

&#128995;|&#128995;&#128995;|&#128995;&#128995;&#128995;|&#128995;&#128995;|&#128995; （该排列表示：$x_1=1、x_2=2、x_3=3、x_4=2、x_5=1$）

令$y_1 = x_1 + 1、y_2 = x_2 - 1、y_3 = x_3 - 2、y_4 = x_4 - 3、y_5 = x_5 + 1$

可得：$y_1 + y_2 + y_3 + y_4 + y_5 = 12$（$y_1 \ge 1,y_2  \ge 1,y_3  \ge 1,y_4  \ge 1,y_5  \ge 1$）

可得：$\operatorname{C} _{11}^{4}$

- 第二步：实际上，$A$类的$9$个元素是不同的，故需要全排列，可得：$\operatorname{A} _{9}^{9}$

- 第三步：实际上，$B$类的$4$个元素也是不同的，故需要全排列，可得：$\operatorname{A} _{4}^{4}$

综上，可得：$\operatorname{C} _{11}^{4} \operatorname{A} _{9}^{9} \operatorname{A} _{4}^{4}$





---
&#128311;将$A$类的$n$个不同的元素和$B$类的$m$个不同的元素排成一排

（1）每个$B$类元素之间至少有$1$个$A$类元素，且$m<n$，有多少种不同的排法？

（2）每个$B$类元素之间至少有$2$个$A$类元素，且$m<n$，有多少种不同的排法？

（3）每个$B$类元素之间至少有$k$个$A$类元素，且$(m-10)k<n$，有多少种不同的排法？

（4）自左向右两个$B$类元素之间分别至少有$4、7、2、3、8$个$A$类元素，且$m<n$，有多少种不同的排法？

{{<alert color="primary">}}
【**思路**】
- 做事：$n+m$个不同的元素。位置是$n+m$个不同位置
- 规则：元素不相邻

{{</alert>}}

【**解析**】

（1）
- 先将非特定元素排好，可得：$\operatorname{A} _{n}^{n} $
- 再将特定不相邻元素插入空位，可得：$\operatorname{A} _{n+1}^{m} $

综上，可得：$\operatorname{A} _{n}^{n} \operatorname{A} _{n+1}^{m}$


（3）先将$A$类的$n$个不同的元素看成$n$个相同小球，$B$类的$m$名男生看成$m$个无区别的隔板，根据题意，隔板之间必须放球

设第$1$、$2$、$3$、$\cdots$、$m$块隔板的左侧分别放$x_1，x_2 + k，x_3 + k，\cdots，x_m + k$个小球，第四块隔板的右侧放$x_ {m+1}$个小球

可得：$x_1 + (x_2 + k) + (x_3 + k) + \cdots + (x_m + k) + x_ {m+1}= n$（$x_i \ge 0,i=1,2,\cdots,m+1$）

化简可得：$x_1 + x_2 + \cdots + x_m + x_ {m+1}= n-(m-1)k$（$x_i \ge 0,i=1,2,\cdots,m+1$）

故这种放法共有：$\operatorname{C} _{n-(m-1)k + m}^{m}$

但$A$类的$n$个不同的元素和$B$类的$m$个不同的元素，故共有：$\operatorname{C} _{n-(m-1)k + m}^{m} \operatorname{A} _{n}^{n} \operatorname{A} _{m}^{m}$







