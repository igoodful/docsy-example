---
title: 2.7 备份与恢复
description: 数据库备份

weight: 7000
---

{{< alert >}}
6.1 实际应用案例分享：


{{< /alert >}}





## 对比

#### mysql shell

使用默认参数zstd压缩+32M chunk并行导出，恢复时单表可以并行load data，其备份和恢复速度均优于非压缩+非分块。
测试中发现，若禁用压缩，也会禁用分块。


#### mysqldump
备份和恢复都是单线程执行，不压缩的备份效率更快，zstd的实时备份速度比gzip更快，恢复速度最慢。

#### mysqlpump
备份支持并行速度也很快，但是单线程恢复是硬伤。

#### mydumper

默认用gzip协议，备份速度与mysqldump基本一样，看来瓶颈在压缩上。
在非压缩非分块备份速度会更快。
恢复速度中等，单表无法并行。
综合上述测试结果，mysql shell新的备份恢复方式是最快的，得益于使用了zstd实时压缩算法，备份恢复均可以并行，对于单个大表也可以并行。






## 备份恢复丢失数据

- 备份的配置文件中一定要修改server_id








