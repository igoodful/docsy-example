---
title: load data 乱码
date: 2023-10-12
description: >
  通过 load data 导入文件，当指定不同的编码（UTF8/GB18030）时会出现乱码


weight: 60000
---

{{< alert >}}
通过LOAD DATA导入文件，当指定不同的编码（UTF8/GB18030）时会出现乱码
{{< /alert >}}


### 一、环境信息

{{< alert >}}

| 名称          | 配置       |
|:--------------|:-----------|
| Arch          | x64        |
| OS            | CentOS 7.9 |
| CPU           | 64C        |
| Memory        | 512G       |
| Space         | 14T        |
| MySQL Version | 8.0.25     |

{{< /alert >}}



## 问题现象

CCB集群（ISAG系统）的主库CPU资源使用瞬间激增，持续时间为2分钟。




## 业务影响范围

该问题暂时对业务无影响。


## 问题分析过程

### 问题发生时间
发现该问题时间为2023-10-12日，周四。

### 问题处理过程
在收到主库cpu使用率超过80阈值告警后，登录数据库后台，查看当前数据库状态。经初步确认，没有发现高耗时的SQL，即当前数据库状态良好。
接着查看当前系统主库的慢查询日志，分析发现这个时间段内仅有少量的慢SQL语句，且执行时间在20s左右，而实测实际，因此慢查询不是
随后，检查了详细分析了该时间段内的binlog日志，发现高并发批次插入大量数据，导致数据库性能下降，执行计划请参见图二。
根据上述输出信息，我们可以得出以下结论：表的统计信息不准确，导致优化器选择了错误的执行计划，从而导致了查询性能下降。。

## 问题原因分析



## 解决问题







































